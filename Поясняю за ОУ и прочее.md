
### От диф. усилителя к ОУ
Вот есть у нас дифференциальный усилитель. 
У него два входа, на них подаём два напряжения:
$U_1$ и $U_2$.

Выходное напряжение $U_{вых}=k(U_1-U_2)$
$k$ - коэффициент усиления дифференциального усилителя. 

Операционный усилитель - дифференциальный усилитель с ОЧЕНЬ большим $k$. От тысячи до миллиона!

Выходное напряженние ОУ получает не из воздуха, а из источников питания. У них его два: для положительного и для отрицательного напряжений.
![[Pasted image 20231225200852.png]]
Обычно на схеме мы их не обозначаем, чтобы не усложнять, **но напряжение питания есть всегда** и ОУ не может выдать выходное напряжение больше напряжения питания

![[Pasted image 20231225201946.png]]
Собственно вот. Когда у нас $k(U_+-U_-)>|U_{пит}|$ выходное напряжение равно $U_{пит}$ по модулю. Это называется зоной/режимом насыщения. 

А когда у нас выходное напряжение пропорционально меняется вместе с разницей входных - это линейный режим/зона.

А теперь, внимание: ОУ в линейном режиме - ОУ, а вот ОУ в режиме насыщения мы называем компаратором. 

### Примеры работы ОУ
Некоторые примеры (предположим, что k = 100, что для практики конечно же слишком мало, но для примера сойдёт)
![[Pasted image 20231225203013.png]]
![[Pasted image 20231225203141.png]]
![[Pasted image 20231225203215.png]]
![[Pasted image 20231225203245.png]]
В последнем случае - насыщение, остальные - линейная зона.
### Обратная связь в ОУ
А что, если мы выходное напряжение подадим на один из входов? 
Это называется "обратная связь". Если на "-" - "отрицательная", если на "+" - "положительная". Положительная обратная связь в силу своей нестабильности нужна только в генераторах

Что будет, если мы сделаем, например, так?
![[Pasted image 20231225204421.png]]
Будет так: $U_{вых}=U_+$
Почему? Потому что ОУ "уравнивает" свои входные напряжения при отрицательной обратной связи

Предположим, $U_+=5\ В$, а $U_{вых}=5.05\ В$. Тогда у нас $U_-$ будет превышать $U_+$, и $U_{вых}$ будет уменьшаться, пока они не сравняются, чисто по свойствам ОУ. А если $U_{вых}$ , будет меньше, чем $U_+$, то из-за этого выходное напряжение будет расти, пока не $U_-=U_{вых}$ не сравняется с $U_+$.

### Усилители на ОУ (инвертирующий и неинвертирующий)
А если добавить делитель напряжения, то $U_-$ будет равно некоторой доле от выходного напряжения, определяемой соотношением резисторов делителя. ИМЕННО ТАК И РАБОТАЕТ НЕИНВЕРТИРУЮЩИЙ УСИЛИТЕЛЬ!

![[Pasted image 20231225205417.png]]
У такой схемы $U_{вых}=(\frac{R_2}{R_1}+1)U_{вх}$ 

По несколько иной логике работает инвертирующий усилитель, но правила ОУ не меняются.
![[Pasted image 20231225205713.png]]
Здесь $U_{вых}=-(\frac{R_2}{R_1})U_{вх}$ 

### Управляемые источники тока и напряжения
Итак, повторяю идею. За счёт обратной связи и свойств ОУ мы можем собрать схему, работающую по принципу: "шоб в том месте, откуда берём обратную связь, напряжение было равно $k*U_+$". Можно сказать, что так мы стабилизируем напряжение в той точке, от которой берём обратную связь.

#### Управляемый источник напряжения
И за счёт этого же работают управляемые источники напряжения и тока.
![[Pasted image 20231225210403.png]]
Зачем тут усилитель, если реостат позволяет подстраивать напряжение, уходящее от источника? Затем, что:
1) Так диапазон напряжений больше
2) Напряжение на выходе усилителя постоянно и если у нас поменяется сопротивление нагрузки - это никак не повлияет на напряжение на выходе усилителя. А без усилителя это так работать не будет. 

Пункт 2 справедлив только для рисунка ниже, или для схемы с инвертирующим усилителем.
![[Pasted image 20231225211408.png]]
Соответственно, это удобно для управления: в точке, от которой берём обратную связь, у нас всегда напряжение будет такое же (или в k раз больше, как схему соберём), чем на положительном входе ОУ.

#### Управляемый источник напряжения с усилителем класса А
А если поверх этой темы налепить ещё усилитель на транзисторе? 
![[Pasted image 20231225212241.png]]
Берём обратную связь после усиления, таким образом у нас уже после двух усилителей напряжение будет всегда пропорционально поступающему на $U_+$, что опять-таки, удобно для управления.

#### Управляемый источник напряжения усилителем класса B
![[Pasted image 20231225212619.png]]
Тут аналогичная история, но транзисторный усилитель другого типа, и в качестве нагрузки стоит двигатель. У двигателя берётся параметр "электродвижущая сила", она же ЭДС, определяемый напряжением и скоростью оборотов, и от подаётся на обратную связь. Детали не важны, важно то, что мы устанавливаем: такая-то величина должна быть так-то кратна входному напряжению, поступающему на вход. 

#### Управляемый источник тока
А так выглядит управляемый источник тока.
![[Pasted image 20231225213657.png]]
Обратная связь берётся после нагрузки. $R_н$ может меняться, но $R_2$ от этого не изменится. Поскольку мы стабилизируем напряжение в той точке, от которой мы берём обратную связь, то в данном случае мы стабилизируем напряжение на $R_2$. Напряжение и сопротивление неизменны, а значит неизменен и ток. Следовательно, **каким бы ни было сопротивление нагрузки, ток будет неизменен**.

### Интегратор
Ещё у отрицательная обратная связь у нас используется в интегрирующих и дифференцирующих цепях. Внутреннюю логику процессов не спрашивайте, сам хз.
![[Pasted image 20231225214129.png]]
$$U_{вых}=-\frac{1}{RC}\int_0^T U_{вх}\ dt$$
#### Генератор пилообразного напряжения
Интеграторы используются в генераторах пилообразного напряжения. 
![[Pasted image 20231225214508.png]]
Здесь мы берём простой генератор прямоугольных импульсов, и. поскольку интеграл от суммы импульсов двигается по диагонали, на выходе получаем пилообразный сигнал. Всё.

Ещё есть такое. Тут транзистор выглядит очень страшно, но на самом деле тут всё просто: по приходу прямоугольного импульс на этот транзистор он полностью разряжает конденсатор, за счёт чего у нас отвесная стенка у выходного сигнала. Всё. 
![[Pasted image 20231225214953.png]]

#### Дифференциатор
Ещё есть дифференцирующие схемы на ОУ. Они как интегрирующие, только дают обратный эффект, и у них поменяны местами резистор и конденсатор.
![[Pasted image 20231225215149.png]]
$$U_{вых}=-RC\frac{dU_{вх}}{dt}$$
А ещё есть генераторы. Самое страшное, да.

#### Мультивибраторы
Во-первых, есть мультивибраторы.
![[Pasted image 20231225220225.png]]
В чём прикол? У нас тут аж две обратных связи, но ОУ работает в режиме насыщения. 
Предположим, у нас есть какое-то выходное напряжение. Напряжение $U_+$ меняется мгновенно и всегда равно половине от выходного напряжения. 
А вот напряжение $U_-$ нарастает со временем, по мере зарядки конденсатора $C$. И как только напряжение $U_-$ превышает $U+$ - хоба, у нас ОУ переключается в насыщение по минусу. Т.е. $U_+-U_-=-0,0 ...01$ но из-за гигантского коэффициента усиления $U_{вых}=-U_{пит}$, просто потому что больше напряжения питания у нас выходное быть по модулю не может. 
И всё идёт заново, только теперь конденсатор разряжается. 
В какой-то момент $U_+ - U_- > 0$ и хоба, ОУ перекидывается в насыщение по плюсу.

В симуляции выглядит это так
![[Pasted image 20231225221131.png]]
Зачем нужен ключ? В начале у нас выходное напряжение равно 0, и колебаний нет. Значит, нужен небольшой толчок. Для этого достаточно один раз замкнуть и тут же разомкнуть ключ. В реальных схемах такой потребности нет, поскольку не-идеальные ОУ не могут выдавать чисто 0, у них там всегда есть небольшое дребезжание, а значит и стартовый толчок не нужен.

#### Одновибратор

![[Pasted image 20231225221359.png]]
А вот ждущий мультивибратор. Здесь ВСЁ то же самое, но добавился диод $D_1$. Он в одну сторону пускает ток, а в другую - нет. На первом колебании у нас диод закрыт, конденсатор заряжается как надо. А вот на втором, после перекидывания значений, у нас меняется полярность напряжения, диод открывается и... ток идёт через него, в обход конденсатора, тем самым позволяя ОУ привести $U_{вых}=0$. В реальных схемах вместо размыкания ключа подаётся произвольный импульс, и в результате после одного импульса мультивибратор выдаёт один прямоугольный импульс и прекращает работу до следующего входного импульса. Всё.

#### Условия возникновения колебаний в генераторах.

"Нужно обеспечить положительную обратную связь"
![[Pasted image 20231225153119.png]]
Только в формулах ошибки:
$U_{вых}=k(U_{вх}+\lambda U_{вых})$
$U_{вых}=kU_{вх}+k\lambda U_{вых}$
$(1-k\lambda) U_{вых}=kU_{вх}$
$U_{вых}=U_{вх} \frac{k}{(1-k\lambda)}$
Для колебаний в знаменателе должно быть 0 или <0
$k\lambda=1$, например

"Любое условие возникновения автоколебаний - положительная обратная связь".

А про конкретные генераторы меня не спрашивайте, там гроб-гроб-кладбище-пидор. Буду разбираться ещё. 

Расписал бы 53 билет за меня кто...

***